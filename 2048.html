<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>


<script>
  //make array for 4*4
    var arr = new Array(4);
    for(var i=0; i<arr.length; i++){
      arr[i] = new Array(4);
    }
  
    for(var i=0; i<arr.length; i++){
      for(var j = 0; j< arr[i].length; j++){
        arr[i][j] =0;
      }
    }
    // add initial number
    const initialCount = 2;
    for(var i = 0; i<initialCount; i++){
        row = Math.floor((Math.random()*2 +1));
        columne = Math.floor((Math.random()*2 +1));
        if(arr[row][columne] === 0){
            arr[row][columne] = 2;
        }
        else
        {
            arr[row-1][columne+1] = 2;
        }
      }
    
  // keyboar enter
  var clientKeyboardClick;
  window.addEventListener('keydown', (e) => {
  clientKeyboardClick = e.keyCode;
  console.log(clientKeyboardClick);
    
  }, 
  false);
  //keyboardenter after algorithm

  
  function swapRowColumn(swapArr){
    for(i =0; i<swapArr.length; i++){
      for(j =i; j<swapArr.length; j++){
        [swapArr[i][j], swapArr[j][i]] = [swapArr[j][i],swapArr[i][j]];
      }
    }
    return swapArr;
  }

  function right_move(uppArr){
    var cnt = 0;
    for(var i =0; i<uppArr.length;i++){
      for(var j = 2; j!==-1;j--){
        cnt =j;
        if(uppArr[i][j] ===0){
        continue;
        }
        else if(uppArr[i][j] !==0){

          while(cnt !== uppArr.length-1){
            if(uppArr[i][cnt] !== uppArr[i][cnt+1]){
              if(uppArr[i][cnt+1] ===0){
                uppArr[i][cnt+1] = uppArr[i][cnt];
                uppArr[i][cnt] =0;
                cnt ++;
              }
              else if(uppArr[i][cnt+1] !==0){
                cnt ++;
              }
            }
            else  if(uppArr[i][cnt] === uppArr[i][cnt+1]){
              uppArr[i][cnt+1]*=2;
              uppArr[i][cnt] =0;
              cnt++;
            }
          }
        }
      }
    }
  return uppArr;
  }

  function left_move(uppArr){
    var cnt = 0;
    for(var i =0; i<uppArr.length;i++){
      for(var j = 1; j!==4;j++){
        cnt =j;
        if(uppArr[i][j] ===0){
        continue;
        }
        else if(uppArr[i][j] !==0){

          while(cnt !== 0){
            if(uppArr[i][cnt] !== uppArr[i][cnt-1]){
              if(uppArr[i][cnt-1] ===0){
                uppArr[i][cnt-1] = uppArr[i][cnt];
                uppArr[i][cnt] =0;
                cnt --;
              }
              else if(uppArr[i][cnt-1] !==0){
                cnt --;
              }
            }
            else  if(uppArr[i][cnt] === uppArr[i][cnt-1]){
              uppArr[i][cnt-1]*=2;
              uppArr[i][cnt] =0;
              cnt--;
            }
          }
        }
      }
    }
  return uppArr;
  }

  function upArrow(doubleList){
    swapRowColumn(doubleList);
    left_move(doubleList);
    swapRowColumn(doubleList);
    return doubleList;
  }
  
  function downArrow(doubleList){
    swapRowColumn(doubleList);
    right_move(doubleList);
    swapRowColumn(doubleList);
    return doubleList;
  }

  function rendering(renderArr){
    for(var i =0; i<renderArr.length; i++){
      for(var j =0; j<renderArr.length; j++){
        var a = renderArr[i][j];
        document.write(a + ',');
      }
      document.write("<br>");
    }


  window.addEventListener('keydown', (e) => {
  if(e.keyCode === 37){
      left_move(arr);
      rendering(arr);
    }
    else if(e.keyCode === 38){
      upArrow(arr);
      rendering(arr);
    }
    else if(e.keyCode === 39){
      right_move(arr);
      rendering(arr);
    }
    else if(e.keyCode === 40){
      downArrow(arr);
      rendering(arr);
    }
  
  }, false);}

  var a =1;
  function calla(a){
    for(var i =0; i<4; i++){
    document.write(a);
  }
  
  window.addEventListener('keydown', (e) => {
  if(e.keyCode === 37){
    calla(a)
  }
      }, false);}


  </script>

<body>
    <h1>2048</h1>
    hello?    
</body>
</html>



  
  